- play = "https://cdn.hyperdev.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fplay.svg"
- whatsGlitchWide = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fwhats-glitch-wide.svg?1499367226210"
- whatsGlitchNarrow = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fwhats-glitch-narrow.svg?1499367226088"
- free = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Ffree.svg?1499350845981"

- SignInPopPresenter = require "../../presenters/sign-in-pop"
- UserOptionsPopPresenter = require "../../presenters/user-options-pop"

header(role="banner")
  .header-info

    a(href=@baseUrl)
      img.logo(src=@logo)

    h1.headline(class=@hiddenIfUserIsSignedIn)
      a(href=@baseUrl)
        span= "Glitch"
      span= " "
      span is the friendly community where you'll build the app of your dreams

    span(class=@hiddenIfUserIsSignedIn)
      a(href="https://glitch.com/about")
        figure.whats-glitch(alt="Create a node app, or remix one. It updates as you type. Code with Friends!" title="How Glitch works")
          img.wide(src=whatsGlitchWide)
          img.narrow(src=whatsGlitchNarrow)
      p
        span And it's
          img.free(src=free alt="free")
        span= ". "
        .video(click=@showVideoOverlay)
          img.play-button(src=play alt="play")
          span How it works in 2 minutes

  nav(role="navigation")  
    form(action="#{@baseUrl}search" method="get" role="search")
      input.search-input(name="q" placeholder="bots, apps, tutorials" value=@application.searchQuery)

    span(class=@hiddenIfUserIsSignedIn)
      button.button-small.opens-pop-over(click=@toggleSignInPopVisible) Sign in
      span(class=@popHiddenUnlessSignInPopVisible)
        = SignInPopPresenter(@.application).template
    .user-options-pop-button.opens-pop-over(class=@hiddenUnlessUserIsSignedIn click=@toggleUserOptionsPopVisible data-tooltip="User options")
      .user
        img(src=@userAvatar width=30 height=30)
        span.down-arrow.icon
      = UserOptionsPopPresenter(@.application).template

